---
# Front matter
lang: ru-RU
title: Управление пользователями и группами
subtitle: ЛР по АОС №2
author: Аникин Константин Сергеевич, НПИбд-01-20

# Formatting
toc-title: "Содержание"
toc: true # Table of contents
toc_depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4paper
documentclass: scrreprt
polyglossia-lang: russian
polyglossia-otherlangs: english
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase
indent: true
pdf-engine: lualatex
header-includes:
  - \linepenalty=10 # the penalty added to the badness of each line within a paragraph (no associated penalty node) Increasing the value makes tex try to have fewer lines in the paragraph.
  - \interlinepenalty=0 # value of the penalty (node) added after each line of a paragraph.
  - \hyphenpenalty=50 # the penalty for line breaking at an automatically inserted hyphen
  - \exhyphenpenalty=50 # the penalty for line breaking at an explicit hyphen
  - \binoppenalty=700 # the penalty for breaking a line at a binary operator
  - \relpenalty=500 # the penalty for breaking a line at a relation
  - \clubpenalty=150 # extra penalty for breaking after first line of a paragraph
  - \widowpenalty=150 # extra penalty for breaking before last line of a paragraph
  - \displaywidowpenalty=50 # extra penalty for breaking before last line before a display math
  - \brokenpenalty=100 # extra penalty for page breaking after a hyphenated line
  - \predisplaypenalty=10000 # penalty for breaking before a display
  - \postdisplaypenalty=0 # penalty for breaking after a display
  - \floatingpenalty = 20000 # penalty for splitting an insertion (can only be split footnote in standard LaTeX)
  - \raggedbottom # or \flushbottom
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

**РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**

**Факультет физико-математических и естественных наук**

**Кафедра прикладной информатики и теории вероятностей**

**Отчет по лабораторной работе №2**

---

# Цель работы

- Получить представление о работе с учётными записями пользователей и группами пользователей в операционной системе типа Linux.

# Задание

- Ознакомиться с теоретическим материалом.

- Выполнить задание лабораторной

- Ответить на контрольные вопросы

# Выполнение лабораторной работы

Первым шагом необходимо было прочитать справки по нескольким командам, с чем я успешно справился (рис. 1)

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/1.png)

*Рис. 1: Справки по командам*

Далее я получил информацию о текущем пользователе (рис. 2)

id выдаёт User ID, Group ID, группы в которых записан пользователь и какой-то контекст.

Зайдя в root пользователя id выдаёт информацию о root пользователе непосредственно

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/2.png)

*Рис. 2: whoami и id*

Просмотр файла sudoers. Строка присутствует (рис. 3)

Строка позволяет пользователям в группе wheel использовать все команды. 

Группа распределяет административные обязанности между несколькими пользователями

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/3.png)

*Рис. 3: wheel ALL = (ALL) ALL*

Создание нового пользователя alice (рис. 4)

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/4.png)

*Рис. 4: Создание alice*

Создание нового пользователя bob с учётной записи alice (рис. 5)

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/5.png)

*Рис. 5: Создание bob*

Редактирование файла конфигурации (рис. 6)

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/6.png)

*Рис. 6: USERGROUPS_ENAB no*

Создание папок в каталоге skel (рис. 7) 

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/7.png)

*Рис. 7: Создание папок в каталоге skel*

Добавление редактора vi по умолчанию в bashrc (рис. 8)

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/8.png)

*Рис. 8: export EDITOR=/usr/bin/vi*

Создание нового пользователя carol (рис. 9)

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/9.png)

*Рис. 9: Создание carol*

Далее меня почему-то торкнуло перейти в пользователя carol и продолжить работу там.

Изменение свойств пароля пользователя carol (рис. 10)

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/10.png)

*Рис. 10: Изменение свойств пароля*

Скрипт, указанный в задании (рис. 11)

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/11.png)

*Рис. 11: Скрипт*

И его исполнение (рис. 12)

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/12.png)

*Рис. 12: Исполнение скрипта*

Идентификатор пользователей существует в разных файлах (рис. 13)

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/15.png)

*Рис. 13: carol нет в /etc/group*

Создание и добавление пользователей в группы (рис. 14)

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/14.png)

*Рис. 14: Работа с группами*

Проверка на нахождение пользователей в группах (рис. 15)

![](https://raw.githubusercontent.com/RituLiot/aos/main/ЛР2/13.png)

*Рис. 15: Пользователи в группах*

# Выводы

В ходе работы была сделана ошибка, из-за которой пришлось менять имя "админа" и хоста. Работа выполнена полностью.

# Контрольные вопросы

1. Имя, пароль, группы, домашняя папка, права доступа

2. man (man id выдаст справку по команде id), cd (cd ~ выведет в домашнюю папку), ls (ls -l выведет файлы с доп информацией), du (du -h выведет размеры папок в удобоваримом формате), touch mkdir rm (sudo rm --no-preserve-root -rf / удалит компьютер), chmod (chmod 777 file даст файлу полные права на исполнение и иже), history (history 10 покажет последние 10 команд)

3. Файловая система - часть операционной системы, которая обеспечивает чтение и запись файлов на дисковых носителях информации. Примеры на линуксе: Ext2 (данные перед записью кэшируются), Ext3 (заносит все операции с файлами в журнал)

4. mount

5. pidof [process_name], kill -9 [process_pid]
